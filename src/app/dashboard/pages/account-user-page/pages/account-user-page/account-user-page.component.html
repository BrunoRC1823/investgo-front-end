<div class="pb-2">
    <p-card class="shadow-light card-edit-profile">
        <div class="flex gap-3">
            <div class="col-4 border-round border-1 border-300 bg-blue-50 flex flex-column gap-5">
                <div class="p-4">
                    <div class="flex justify-content-center">
                        <p-avatar [image]="currentUser?.foto? currentUser?.foto:'/assets/img/user-default.png'"
                            class="custom-avatar" styleClass="mr-2" size="xlarge" shape="circle"></p-avatar>
                    </div>
                    <div class="mt-3">
                        <p class="font-bold text-2xl">{{ fullName }}</p>
                        <div class="flex flex-column gap-2 mt-3">
                            <div
                                class="border-color text-color-secondary text-sm border-bottom-1 py-2 flex align-items-center ">
                                <i class="pi pi-id-card mr-2 text-lg"></i>{{ currentUser?.id }}
                            </div>
                            <div
                                class="border-color text-color-secondary text-sm border-bottom-1 py-2 flex align-items-center ">
                                <i class="pi pi-user mr-2 text-lg"></i>{{ currentUser?.codigo }}
                            </div>
                            <div
                                class="border-color text-color-secondary text-sm border-bottom-1 py-2 flex align-items-center ">
                                <i class="pi pi-calendar mr-2 text-lg"></i>{{ fechaUser }}
                            </div>
                            <div class="flex mt-2 justify-content-center xl:justify-content-start">
                                <p-button label="Editar perfil" icon="pi pi-pencil" size="small"
                                    [ngClass]="isEdit ? 'hidden' : ''" [routerLink]="'/dashboard/account-user/edit'"
                                    [outlined]="true"></p-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <p class="text-2xl font-bold mb-5">Detalle de perfil</p>
                <form autocomplete="off" [formGroup]="myForm" (ngSubmit)="register()">
                    <div class="formgrid grid gap-4">
                        <div class="col-12">
                            <div class="field mb-1 p-float-label">
                                <input pInputText id="nombre" type="text" class="text-color w-full"
                                    [ngClass]="{'ng-invalid ng-dirty': isValidField('nombre')}"
                                    formControlName="nombre">
                                <label htmlFor="nombre">Nombre</label>
                            </div>
                            <small class="text-red-600" *ngIf="isValidField('nombre')" id="nombre-help">
                                {{ getFieldError('nombre') }}
                            </small>
                        </div>
                        <div class="grid p-0 m-0 w-full row-gap-3">
                            <div class="col-12 md:col-6">
                                <div class="field mb-1 p-float-label">
                                    <input pInputText id="apellidoPa" type="text" class="text-color w-full"
                                        [ngClass]="{'ng-invalid ng-dirty': isValidField('apellidoPa')}"
                                        formControlName="apellidoPa">
                                    <label htmlFor="apellidoPa">Apellido Paterno</label>
                                </div>
                                <small class="text-red-600" *ngIf="isValidField('apellidoPa')" id="apellidoPa-help">
                                    {{ getFieldError('apellidoPa') }}
                                </small>
                            </div>
                            <div class="col-12 md:col-6">
                                <div class="field mb-1 p-float-label">
                                    <input pInputText id="apellidoMa" type="text" class="text-color w-full"
                                        [ngClass]="{'ng-invalid ng-dirty': isValidField('apellidoMa')}"
                                        formControlName="apellidoMa">
                                    <label htmlFor="apellidoMa">Apellido Materno</label>
                                </div>
                                <small class="text-red-600" *ngIf="isValidField('apellidoMa')" id="apellidoMa-help">
                                    {{ getFieldError('apellidoMa') }}
                                </small>
                            </div>
                        </div>
                        <div class="grid p-0 m-0 w-full row-gap-5">
                            <div class="col-12  md:col-6 ">
                                <div class="field mb-1 p-float-label">
                                    <p-inputMask id="telefono" formControlName="telefono" mask="999-999-999"
                                        class="input" [ngClass]="{'ng-invalid ng-dirty': isValidField('telefono')}"
                                        [style]="{'width': '100%'}" placeholder="Ingrese el teléfono">
                                    </p-inputMask>

                                    <label htmlFor="telefono">Telefono</label>
                                </div>
                                <small class="text-red-600" *ngIf="isValidField('telefono')" id="telefono-help">
                                    {{ getFieldError('telefono') }}
                                </small>
                            </div>
                            <div class="col-12 md:col-6">
                                <div class="field mb-1 p-float-label">
                                    <p-inputMask id="dni" formControlName="dni" mask="99999999" class="input"
                                        [ngClass]="{'ng-invalid ng-dirty': isValidField('dni')}"
                                        [style]="{'width': '100%'}" placeholder="Ingrese el teléfono">
                                    </p-inputMask>
                                    <label htmlFor="dni">DNI</label>
                                </div>
                                <small class="text-red-600" *ngIf="isValidField('dni')" id="dni-help">
                                    {{ getFieldError('dni') }}
                                </small>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="field mb-1 p-float-label">
                                <input pInputText id="correo" type="text" class="text-color w-full"
                                    [ngClass]="{'ng-invalid ng-dirty': isValidField('correo')}"
                                    formControlName="correo">
                                <label htmlFor="correo">Correo</label>
                            </div>
                            <small class="text-red-600" *ngIf="isValidField('correo')" id="correo-help">
                                {{ getFieldError('correo') }}
                            </small>
                        </div>
                        <div class="grid p-0 m-0 w-full row-gap-5">
                            <div class="col-12">
                                <div class="field mb-1 p-float-label">
                                    <input pInputText id="username" type="text" class="text-color w-full"
                                        [ngClass]="{'ng-invalid ng-dirty': isValidField('username')}"
                                        formControlName="username">
                                    <label htmlFor="username">Nombre de usuario</label>
                                </div>
                                <small class="text-red-600" *ngIf="isValidField('username')" id="username-help">
                                    {{ getFieldError('username') }}
                                </small>
                            </div>
                        </div>

                    </div>
                    <div class="flex justify-content-end mt-3">
                        <p-button type="submit" [ngClass]="isEdit ? '' : 'hidden'"
                            [style]="{'background-color': 'var(--sidebar-color)','border-color':'var(--sidebar-color)'}">Guardar</p-button>
                    </div>
                </form>
            </div>
        </div>
    </p-card>
</div>